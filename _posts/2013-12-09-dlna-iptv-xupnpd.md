---
id: 1555
title: DLNA IPTV xupnpd
date: 2013-12-09T17:16:31+00:00
author: vanoc
layout: post
guid: /?p=1555
permalink: /kino/dlna-iptv-xupnpd/
categories:
  - ubuntu
  - кино
tags:
  - dlna
  - IPTV
  - xupnpd
---
Купили брату телевизор Sony Bravia. Выбирал специально, чтоб ТВ умел проигрывать много форматов видео и знал что такое DLNA. Однако упустил IPTV. Странно, но ТВ его совсем не умеет проигрывать. Удивительно, что Sony не позаботились об этом. В итоге IPTV таки удалось получить, пусть и через DLNA.

Настраивается установкой <a href="http://xupnpd.org/t/" title="xupnpd" target="_blank">xupnpd</a>. Можно поставить программу на роутер. В интернете есть мануалы по ентой установке. У меня же стояла задача более простая. Заставить ТВ показывать iptv не важно откуда. В итоге поставил xupnpd на ноут с ubuntu, благо на оффсайте есть уже собранный пакет для нее. 

Правим конфиг файл /etc/xupnpd.lua
  
Заменяем интерфейс на свой, через который выходим в интернет.

Запускать следует через sudo.
  
`sudo xupnpd`

Либо можно утянуть последнюю версию с svn

`sudo apt-get install subversion<br />
svn co http://tsdemuxer.googlecode.com/svn/trunk/xupnpd<br />
cd xupnpd/src/<br />
make`

Не забываем поправить конфиг файл xupnpd.lua
  
Следует заменить интерфейс на свой, через который выходим в интернет.

Запускаем программу
  
`chmod +x xupnpd<br />
./xupnpd`

Дальше настройки можно править через веб-интерфейс 192.168.X.X:4044, где 192.168.X.X ваш ip.
  
Там же можно загрузить свой плейлист.m3u

Ввиду того, что я смотрю iptv от <a href="https://shura.tv/" title="shura.tv" target="_blank">тетушки Шуры</a> и потоки там все http-шные, мне не пришлось ставить udpxy. Единственный нюанс, который заставил меня поломать голову, из-за того, что при выборе канала трансляция запускалась, но картинки не было, заключается в том, что в настройках Default mime type следует указать mpeg\_ts (cfg.default\_mime\_type=&#8217;mpeg\_ts&#8217;).