---
id: 451
title: LAMP и ubuntu
date: 2009-02-20T23:24:29+00:00
author: vanoc
layout: post
guid: http://helicopter.net.ru/?p=451
permalink: /ubuntu/lamp-i-ubuntu-810/
ljID:
  - "263"
ljxp_comments:
  - "0"
ljxp_privacy:
  - "0"
dsq_thread_id:
  - "164630505"
categories:
  - runix
  - ubuntu
tags:
  - LAMP
---
Мини мануал на память.

LAMP устанавливается оч просто. Достаточно запустить synaptic, зайти в Правка &#8212; отметить пакеты для Задачи. Ставим галочку напротив LAMP server. Затем через поиск находим phpmyadmin и так же помечаем на установку. Или выполняем в терминале

`sudo aptitude install apache2 php5 php5-mysql phpmyadmin mysql-server`

В процессе установки phpmyadmin спросит о конфигурации. Выбираем apache2.

Теперь при переходе на <http://localhost/> должно появиться победное **It works!**, при переходе на <http://localhost/phpmyadmin> непосредственно окно входа в phpmyadmin. Логин root.

Использовать дефолтную var/www/ не оч удобно, поэтому укажем свои директории. Я создал /home/vanoc/sites/www/new, new2 и new3. Теперь скопируем дефолтный шаблон.
  
`sudo cp /etc/apache2/sites-available/default /etc/apache2/sites-available/new<br />
sudo cp /etc/apache2/sites-available/default /etc/apache2/sites-available/new2<br />
sudo cp /etc/apache2/sites-available/default /etc/apache2/sites-available/new3`

Редактирование **/etc/apache2/sites-available/new** сводится к добавлению строки **ServerName _new_**, смене пути **var/www/** на адрес будущих виртуальных хостов. У меня **/home/vanoc/sites/www/new** и указанию отдельного лог файла для каждого хоста. **ErrorLog /home/vanoc/sites/www/new/error-new.log**.
  
Заодно включим mod_rewrite. Для этого все **AllowOverride None** заменим на **AllowOverride All**

Выполняем
  
`sudo a2enmod rewrite`

Подправим /etc/hosts добавив к localhost новые хосты
  
`127.0.0.1	localhost new new2 new3`

Включим их
  
`sudo a2ensite new new2 new3`

Перезапустим apache
  
`sudo /etc/init.d/apache2 restart`

Кстати, чтобы не вылетала ошибка _You don&#8217;t have permission to access / on this server_ следует проверить chmod-ы у новых хостов.